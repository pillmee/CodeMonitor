# PRD: CodeMonitor - Git Code Line Monitoring Tool

## 1. 개요 (Overview)
Android Framework와 같은 대규모 Git 저장소의 소스 코드 전체 라인수를 지속적으로 모니터링하고, 변화량을 시각적으로 표시하는 도구입니다. 수백만 라인 이상의 대규모 코드베이스에서도 안정적인 성능을 제공하는 것을 목표로 합니다.

## 2. 사용자 스토리 (User Story)
- "사용자는 여러 개의 Git 저장소를 등록하고 관리하며, 주기적으로 분석되기를 원한다."
- "사용자는 각 저장소별 변화를 하나의 그래프에서 비교하거나, 모든 저장소의 합계를 통합 그래프로 보고 싶어 한다."
- "사용자는 특정 파일 확장자(예: .py, .js)만 필터링하거나, 특정 폴더를 제외하여 분석하고 싶어 한다."

## 3. 핵심 기능 (Core Features)

### 3.1. Git 저장소 분석 (Git Analyzer)
- **저장소 등록**: 로컬 경로 또는 원격 URL을 통한 복수의 Git 저장소 설정 및 별칭(Alias) 지정.
- **자동 스캔**: 각 저장소별 최신 커밋을 독립적으로 감지하여 업데이트.
- **히스토리 백필 (Historical Backfill)**: 각 저장소의 첫 커밋부터 현재까지의 히스토리를 각각 복원.
- **확장자 필터링**: 저장소별 또는 전역으로 파일 확장자 분석 설정 가능.

### 3.2. 데이터 수집 및 관리 (Data Management)
- **히스토리 저장**: 스캔 시점의 타임스탬프와 총 라인수(Total LOC)를 데이터베이스에 보관.
- **SQLite 활용**: 가벼운 데이터 저장과 빠른 질의를 위해 SQLite 또는 로컬 파일 시스템 사용.

### 3.3. 대시보드 및 시각화 (Visualization)
- **멀티 라인 그래프**: 선택한 여러 저장소의 라인수 변화를 색상별로 구분하여 하나의 차트에 표시.
- **통합 그래프 (Aggregated View)**: 모든 등록된 저장소의 라인수 합계를 시간축에 따라 표시하여 전체 코드베이스 규모 파악.
- **저장소별 요약**: 각 저장소의 현재 총 라인수, 상태(정상/분석중), 증감량 목록 표시.
- **다국어 및 프리미엄 디자인**: 다크 모드 지원 및 모던한 차트 UI 적용.

## 4. 기술 스택 (Technical Stack)

- **Backend**: Python 3.x
  - `GitPython`: Git 저장소 접근 및 로그/커밋 분석.
  - `FastAPI`: 가벼운 API 서버 구축.
  - `SQLite`: 시계열 데이터 저장 및 캐싱.
  - `CLOC (Count Lines of Code)`: 대규모 소스 코드의 성능 최적화된 라인수 측정 (외부 툴 연동 또는 라이브러리 활용).
- **Frontend**: Vite + React or Vanilla JS
  - `Chart.js` 또는 `D3.js`: 동적 데이터 시각화.
  - `CSS`: 프리미엄 디자인 (유리모피즘, 다크 테마).

## 5. UI/UX 요구사항
- **Modern & Premium Look**: 심플하면서도 고급스러운 다크 테마 배경.
- **Interactive Charts**: 그래프 포인트에 호버 시 상세 데이터 표시.
- **Real-time Feel**: 분석이 완료될 때마다 자동으로 업데이트되는 대시보드.

## 6. 성공 지표 (Success Metrics)
- **대규모 저장소 지원**: Android Framework(수백만 라인) 기준, 초기 전체 스캔 10분 이내 완료.
- **증분 분석 (Incremental Update)**: 변경된 커밋 내용만을 기반으로 업데이트 시 1분 이내 처리.
- **조회 성능**: 수 천개의 시계열 데이터 포인트에 대해 그래프 렌더링 2초 이내.
- **확장성**: 100GB 이상의 Git 저장소 크기에서도 시스템 안정성 유지.
